<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="GenHook Development Team" />
  <meta name="dcterms.date" content="2025-08-15" />
  <title>GenHook Complete Guide</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">GenHook Complete Guide</h1>
<p class="author">GenHook Development Team</p>
<p class="date">2025-08-15</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#genhook-project-notes"
id="toc-genhook-project-notes"><span class="toc-section-number">1</span>
GenHook Project Notes</a>
<ul>
<li><a href="#project-overview" id="toc-project-overview"><span
class="toc-section-number">1.1</span> Project Overview</a>
<ul>
<li><a href="#system-purpose" id="toc-system-purpose"><span
class="toc-section-number">1.1.1</span> System Purpose</a></li>
<li><a href="#key-features" id="toc-key-features"><span
class="toc-section-number">1.1.2</span> Key Features</a></li>
<li><a href="#architecture" id="toc-architecture"><span
class="toc-section-number">1.1.3</span> Architecture</a></li>
</ul></li>
<li><a href="#backend-startup" id="toc-backend-startup"><span
class="toc-section-number">1.2</span> Backend Startup</a></li>
<li><a href="#web-configuration-interface"
id="toc-web-configuration-interface"><span
class="toc-section-number">1.3</span> Web Configuration Interface</a>
<ul>
<li><a href="#overview" id="toc-overview"><span
class="toc-section-number">1.3.1</span> Overview</a></li>
<li><a href="#access-layout" id="toc-access-layout"><span
class="toc-section-number">1.3.2</span> Access &amp; Layout</a></li>
<li><a href="#key-features-1" id="toc-key-features-1"><span
class="toc-section-number">1.3.3</span> Key Features</a></li>
<li><a href="#quick-start-guide" id="toc-quick-start-guide"><span
class="toc-section-number">1.3.4</span> Quick Start Guide</a></li>
<li><a href="#configuration-file-integration"
id="toc-configuration-file-integration"><span
class="toc-section-number">1.3.5</span> Configuration File
Integration</a></li>
<li><a href="#web-interface-configuration"
id="toc-web-interface-configuration"><span
class="toc-section-number">1.3.6</span> Web Interface
Configuration</a></li>
</ul></li>
<li><a href="#webhook-security-tokenization"
id="toc-webhook-security-tokenization"><span
class="toc-section-number">1.4</span> Webhook Security &amp;
Tokenization</a>
<ul>
<li><a href="#overview-1" id="toc-overview-1"><span
class="toc-section-number">1.4.1</span> Overview</a></li>
<li><a href="#key-security-features"
id="toc-key-security-features"><span
class="toc-section-number">1.4.2</span> Key Security Features</a></li>
<li><a href="#user-experience" id="toc-user-experience"><span
class="toc-section-number">1.4.3</span> User Experience</a></li>
<li><a href="#technical-implementation"
id="toc-technical-implementation"><span
class="toc-section-number">1.4.4</span> Technical
Implementation</a></li>
<li><a href="#api-endpoints" id="toc-api-endpoints"><span
class="toc-section-number">1.4.5</span> API Endpoints</a></li>
<li><a href="#migration-compatibility"
id="toc-migration-compatibility"><span
class="toc-section-number">1.4.6</span> Migration &amp;
Compatibility</a></li>
</ul></li>
<li><a href="#supported-webhook-sources"
id="toc-supported-webhook-sources"><span
class="toc-section-number">1.5</span> Supported Webhook Sources</a>
<ul>
<li><a href="#service-providers" id="toc-service-providers"><span
class="toc-section-number">1.5.1</span> Service Providers</a></li>
<li><a href="#configuration-format-1"
id="toc-configuration-format-1"><span
class="toc-section-number">1.5.2</span> Configuration Format</a></li>
<li><a href="#field-extraction-patterns"
id="toc-field-extraction-patterns"><span
class="toc-section-number">1.5.3</span> Field Extraction
Patterns</a></li>
</ul></li>
<li><a href="#technical-architecture"
id="toc-technical-architecture"><span
class="toc-section-number">1.6</span> Technical Architecture</a>
<ul>
<li><a href="#threading-models" id="toc-threading-models"><span
class="toc-section-number">1.6.1</span> Threading Models</a></li>
<li><a href="#configuration-parameters"
id="toc-configuration-parameters"><span
class="toc-section-number">1.6.2</span> Configuration
Parameters</a></li>
<li><a href="#sl1-integration" id="toc-sl1-integration"><span
class="toc-section-number">1.6.3</span> SL1 Integration</a></li>
<li><a href="#queue-management" id="toc-queue-management"><span
class="toc-section-number">1.6.4</span> Queue Management</a></li>
</ul></li>
<li><a href="#configuration-system" id="toc-configuration-system"><span
class="toc-section-number">1.7</span> Configuration System</a>
<ul>
<li><a href="#dynamic-configuration-loading"
id="toc-dynamic-configuration-loading"><span
class="toc-section-number">1.7.1</span> Dynamic Configuration
Loading</a></li>
<li><a href="#template-variables" id="toc-template-variables"><span
class="toc-section-number">1.7.2</span> Template Variables</a></li>
<li><a href="#template-examples" id="toc-template-examples"><span
class="toc-section-number">1.7.3</span> Template Examples</a></li>
<li><a href="#environment-configuration"
id="toc-environment-configuration"><span
class="toc-section-number">1.7.4</span> Environment
Configuration</a></li>
</ul></li>
<li><a href="#development-phases" id="toc-development-phases"><span
class="toc-section-number">1.8</span> Development Phases</a>
<ul>
<li><a href="#phase-1-core-system" id="toc-phase-1-core-system"><span
class="toc-section-number">1.8.1</span> Phase 1: Core System</a></li>
<li><a href="#phase-2-multi-threading"
id="toc-phase-2-multi-threading"><span
class="toc-section-number">1.8.2</span> Phase 2:
Multi-Threading</a></li>
<li><a href="#phase-3-production-features"
id="toc-phase-3-production-features"><span
class="toc-section-number">1.8.3</span> Phase 3: Production
Features</a></li>
<li><a href="#phase-4-operations" id="toc-phase-4-operations"><span
class="toc-section-number">1.8.4</span> Phase 4: Operations</a></li>
<li><a href="#current-status" id="toc-current-status"><span
class="toc-section-number">1.8.5</span> Current Status</a></li>
</ul></li>
<li><a href="#production-deployment"
id="toc-production-deployment"><span
class="toc-section-number">1.9</span> Production Deployment</a>
<ul>
<li><a href="#port-configuration-configuration-driven"
id="toc-port-configuration-configuration-driven"><span
class="toc-section-number">1.9.1</span> Port Configuration
(Configuration-Driven)</a></li>
<li><a href="#aws-deployment-considerations"
id="toc-aws-deployment-considerations"><span
class="toc-section-number">1.9.2</span> AWS Deployment
Considerations</a></li>
<li><a href="#reverse-proxy-configuration-nginx"
id="toc-reverse-proxy-configuration-nginx"><span
class="toc-section-number">1.9.3</span> Reverse Proxy Configuration
(nginx)</a></li>
<li><a href="#environment-variables-for-production"
id="toc-environment-variables-for-production"><span
class="toc-section-number">1.9.4</span> Environment Variables for
Production</a></li>
<li><a href="#configuration-files-for-production"
id="toc-configuration-files-for-production"><span
class="toc-section-number">1.9.5</span> Configuration Files for
Production</a></li>
<li><a href="#security-checklist" id="toc-security-checklist"><span
class="toc-section-number">1.9.6</span> Security Checklist</a></li>
</ul></li>
<li><a href="#security-performance" id="toc-security-performance"><span
class="toc-section-number">1.10</span> Security &amp; Performance</a>
<ul>
<li><a href="#security-considerations-1"
id="toc-security-considerations-1"><span
class="toc-section-number">1.10.1</span> Security
Considerations</a></li>
<li><a href="#error-handling-strategy"
id="toc-error-handling-strategy"><span
class="toc-section-number">1.10.2</span> Error Handling
Strategy</a></li>
<li><a href="#performance-optimization"
id="toc-performance-optimization"><span
class="toc-section-number">1.10.3</span> Performance
Optimization</a></li>
<li><a href="#monitoring-points" id="toc-monitoring-points"><span
class="toc-section-number">1.10.4</span> Monitoring Points</a></li>
<li><a href="#key-metrics-to-track" id="toc-key-metrics-to-track"><span
class="toc-section-number">1.10.5</span> Key Metrics to Track</a></li>
</ul></li>
<li><a href="#web-configuration-interface-plan"
id="toc-web-configuration-interface-plan"><span
class="toc-section-number">1.11</span> Web Configuration Interface
Plan</a>
<ul>
<li><a href="#overview-2" id="toc-overview-2"><span
class="toc-section-number">1.11.1</span> Overview</a></li>
<li><a href="#key-features-2" id="toc-key-features-2"><span
class="toc-section-number">1.11.2</span> Key Features</a></li>
<li><a href="#architecture-1" id="toc-architecture-1"><span
class="toc-section-number">1.11.3</span> Architecture</a></li>
<li><a href="#implementation-structure"
id="toc-implementation-structure"><span
class="toc-section-number">1.11.4</span> Implementation
Structure</a></li>
<li><a href="#user-workflow" id="toc-user-workflow"><span
class="toc-section-number">1.11.5</span> User Workflow</a></li>
<li><a href="#documentation" id="toc-documentation"><span
class="toc-section-number">1.11.6</span> Documentation</a></li>
<li><a href="#benefits" id="toc-benefits"><span
class="toc-section-number">1.11.7</span> Benefits</a></li>
</ul></li>
<li><a href="#webhook-payload-logging"
id="toc-webhook-payload-logging"><span
class="toc-section-number">1.12</span> Webhook Payload Logging</a>
<ul>
<li><a href="#overview-3" id="toc-overview-3"><span
class="toc-section-number">1.12.1</span> Overview</a></li>
<li><a href="#features" id="toc-features"><span
class="toc-section-number">1.12.2</span> Features</a></li>
<li><a href="#configuration" id="toc-configuration"><span
class="toc-section-number">1.12.3</span> Configuration</a></li>
<li><a href="#directory-structure" id="toc-directory-structure"><span
class="toc-section-number">1.12.4</span> Directory Structure</a></li>
<li><a href="#web-interface-features"
id="toc-web-interface-features"><span
class="toc-section-number">1.12.5</span> Web Interface Features</a></li>
<li><a href="#production-deployment-aws"
id="toc-production-deployment-aws"><span
class="toc-section-number">1.12.6</span> Production Deployment
(AWS)</a></li>
<li><a href="#production-notes" id="toc-production-notes"><span
class="toc-section-number">1.12.7</span> Production Notes</a></li>
<li><a href="#troubleshooting" id="toc-troubleshooting"><span
class="toc-section-number">1.12.8</span> Troubleshooting</a></li>
<li><a href="#log-format" id="toc-log-format"><span
class="toc-section-number">1.12.9</span> Log Format</a></li>
<li><a href="#api-endpoints-1" id="toc-api-endpoints-1"><span
class="toc-section-number">1.12.10</span> API Endpoints</a></li>
<li><a href="#benefits-1" id="toc-benefits-1"><span
class="toc-section-number">1.12.11</span> Benefits</a></li>
<li><a href="#enhanced-user-workflow"
id="toc-enhanced-user-workflow"><span
class="toc-section-number">1.12.12</span> Enhanced User
Workflow</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 data-number="1" id="genhook-project-notes"><span
class="header-section-number">1</span> GenHook Project Notes</h1>
<h2 data-number="1.1" id="project-overview"><span
class="header-section-number">1.1</span> Project Overview</h2>
<h3 data-number="1.1.1" id="system-purpose"><span
class="header-section-number">1.1.1</span> System Purpose</h3>
<p>GenHook is a configuration-driven, multi-threaded webhook receiver
that: - Accepts webhooks from multiple services (GitHub, Stripe, Slack,
AWS, etc.) - Extracts specified fields using configuration files -
Generates human-readable messages using templates - Forwards events to
SL1 monitoring system via API</p>
<h3 data-number="1.1.2" id="key-features"><span
class="header-section-number">1.1.2</span> Key Features</h3>
<ul>
<li><strong>Configuration-Driven</strong>: No code changes needed for
new webhook types</li>
<li><strong>Dynamic Configuration Loading</strong>: Configuration
changes take effect immediately without service restarts</li>
<li><strong>Multi-Threaded</strong>: Handle thousands of concurrent
webhooks</li>
<li><strong>Template-Based Messaging</strong>: Flexible message
generation</li>
<li><strong>SL1 Integration</strong>: Direct API integration with
default values</li>
<li><strong>Error Handling</strong>: Graceful failure handling and retry
logic</li>
</ul>
<h3 data-number="1.1.3" id="architecture"><span
class="header-section-number">1.1.3</span> Architecture</h3>
<ul>
<li>FastAPI-based HTTP server</li>
<li>7-step processing pipeline: Reception → Identification →
Configuration Lookup → Field Extraction → Message Generation → SL1 API
Call → Error Handling</li>
<li>Configurable threading models: Thread Pool Pattern, Async Event
Loop, or Hybrid Approach</li>
<li>Queue management with in-memory and persistent options</li>
</ul>
<h2 data-number="1.2" id="backend-startup"><span
class="header-section-number">1.2</span> Backend Startup</h2>
<p>Always start the backend when working on this project:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> backend <span class="kw">&amp;&amp;</span> <span class="ex">./start.sh</span></span></code></pre></div>
<p>Or manually:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> backend</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ../venv/bin/activate</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-r</span> requirements.txt</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> main.py</span></code></pre></div>
<p>Backend runs at: http://localhost:8000 API docs at:
http://localhost:8000/docs</p>
<h2 data-number="1.3" id="web-configuration-interface"><span
class="header-section-number">1.3</span> Web Configuration
Interface</h2>
<h3 data-number="1.3.1" id="overview"><span
class="header-section-number">1.3.1</span> Overview</h3>
<p>GenHook features a professional, responsive web-based configuration
interface with a modern 2-column layout. The interface eliminates manual
file editing and provides a complete webhook configuration management
system with real-time testing and validation.</p>
<h3 data-number="1.3.2" id="access-layout"><span
class="header-section-number">1.3.2</span> Access &amp; Layout</h3>
<ul>
<li><strong>Web Interface</strong>: http://localhost:8000/config</li>
<li><strong>Professional 65/35 Layout</strong>: Configuration table and
wizard on the left (65%), payload sidebar on the right (35%)</li>
<li><strong>Responsive Design</strong>: Optimized for desktop and mobile
with intelligent breakpoints</li>
<li><strong>Sticky Sidebar</strong>: Payload section stays visible while
scrolling through configurations</li>
</ul>
<h3 data-number="1.3.3" id="key-features-1"><span
class="header-section-number">1.3.3</span> Key Features</h3>
<h4 data-number="1.3.3.1" id="modern-2-column-interface"><span
class="header-section-number">1.3.3.1</span> 1. <strong>Modern 2-Column
Interface</strong></h4>
<ul>
<li><strong>Left Column</strong>: Configuration table and 3-step wizard
(65% width)</li>
<li><strong>Right Column</strong>: Payload loading and JSON editing
sidebar (35% width)</li>
<li><strong>Hidden-by-Default Wizard</strong>: Clean interface with “New
Config” button in table header</li>
<li><strong>Real-time Updates</strong>: All changes take effect
immediately without service restarts</li>
</ul>
<h4 data-number="1.3.3.2" id="step-configuration-wizard"><span
class="header-section-number">1.3.3.2</span> 2. <strong>3-Step
Configuration Wizard</strong></h4>
<ul>
<li><strong>Step 1: Basic Information</strong> - Webhook type name and
quick templates</li>
<li><strong>Step 2: Field Selection</strong> - Visual field selection
with existing configurations displayed</li>
<li><strong>Step 3: Template Building</strong> - Message template
creation with live preview</li>
</ul>
<h4 data-number="1.3.3.3" id="enhanced-payload-sidebar"><span
class="header-section-number">1.3.3.3</span> 3. <strong>Enhanced Payload
Sidebar</strong></h4>
<ul>
<li><strong>Recent Payload Loading</strong>: Auto-load from previous
webhook executions by type</li>
<li><strong>Auto-Loading Dropdowns</strong>: Automatic payload loading
when selections change</li>
<li><strong>JSON Validation</strong>: Real-time syntax validation and
error reporting</li>
<li><strong>Sticky Positioning</strong>: Always visible during
configuration workflow</li>
</ul>
<h4 data-number="1.3.3.4" id="improved-edit-mode"><span
class="header-section-number">1.3.3.4</span> 4. <strong>Improved Edit
Mode</strong></h4>
<ul>
<li><strong>Shows Existing Data</strong>: Displays current field
selections and message template</li>
<li><strong>Step 2 Start</strong>: Begins editing in field selection to
show what’s currently configured</li>
<li><strong>Modify Everything</strong>: Change field selections,
reorganize variables, edit templates</li>
<li><strong>Visual Field Display</strong>: Checkboxes show current
selections, enable modifications</li>
</ul>
<h4 data-number="1.3.3.5" id="configuration-management"><span
class="header-section-number">1.3.3.5</span> 5. <strong>Configuration
Management</strong></h4>
<ul>
<li><strong>Professional Table</strong>: Clean overview of all webhook
configurations</li>
<li><strong>Inline Actions</strong>: Edit and delete buttons for each
configuration</li>
<li><strong>Automatic Backups</strong>: Safe configuration updates with
rollback capability</li>
<li><strong>Dynamic Loading</strong>: No service restarts required for
configuration changes</li>
</ul>
<h3 data-number="1.3.4" id="quick-start-guide"><span
class="header-section-number">1.3.4</span> Quick Start Guide</h3>
<h4 data-number="1.3.4.1"
id="creating-a-new-webhook-configuration"><span
class="header-section-number">1.3.4.1</span> Creating a New Webhook
Configuration:</h4>
<ol type="1">
<li>Navigate to http://localhost:8000/config</li>
<li>Click the <strong>“New Config”</strong> button in the configurations
table header</li>
<li>Enter webhook type name (e.g., “github”, “stripe”) in Step 1</li>
<li>Use the <strong>payload sidebar</strong> to load a recent payload or
paste JSON data</li>
<li>Click <strong>“Analyze Payload”</strong> to discover extractable
fields (→ Step 2)</li>
<li><strong>Select fields</strong> using checkboxes - see real-time
field pattern generation</li>
<li>Click <strong>“Create Template”</strong> to proceed to Step 3</li>
<li><strong>Build your message template</strong> using variables like
<code>$field.name$</code></li>
<li>Click <strong>“Test Config”</strong> to validate with the sidebar
payload</li>
<li>Click <strong>“Save Configuration”</strong> (takes effect
immediately)</li>
</ol>
<h4 data-number="1.3.4.2" id="editing-existing-configurations"><span
class="header-section-number">1.3.4.2</span> Editing Existing
Configurations:</h4>
<ol type="1">
<li>Click the <strong>edit button</strong> (pencil icon) on any
configuration</li>
<li><strong>Step 2 opens</strong> showing current field selections with
pre-checked boxes</li>
<li><strong>Modify field selections</strong> - check/uncheck fields as
needed</li>
<li>Use the <strong>payload sidebar</strong> to load recent payloads for
testing</li>
<li>Click <strong>“Create Template”</strong> to proceed to template
editing (Step 3)</li>
<li><strong>Edit the message template</strong> - reorganize variables,
modify text</li>
<li>Click <strong>“Test Config”</strong> to validate changes with
sidebar payload</li>
<li>Click <strong>“Save Configuration”</strong> to update (takes effect
immediately)</li>
</ol>
<h4 data-number="1.3.4.3" id="using-the-payload-sidebar"><span
class="header-section-number">1.3.4.3</span> Using the Payload
Sidebar:</h4>
<ol type="1">
<li><strong>Select webhook type</strong> from dropdown to load recent
payloads</li>
<li><strong>Choose recent payload</strong> - auto-loads when selected
(no manual button)</li>
<li><strong>Or paste JSON directly</strong> into the payload
textarea</li>
<li><strong>Validate JSON</strong> using the validation button for
syntax checking</li>
<li><strong>Payload stays loaded</strong> throughout the entire
configuration workflow</li>
</ol>
<h3 data-number="1.3.5" id="configuration-file-integration"><span
class="header-section-number">1.3.5</span> Configuration File
Integration</h3>
<ul>
<li>Configurations are saved to
<code>backend/config/webhook-config.ini</code></li>
<li>Automatic backup creation in
<code>backend/config/backups/</code></li>
<li><strong>Dynamic Loading</strong>: Changes take effect immediately
without service restarts</li>
<li>No manual file editing required</li>
</ul>
<h3 data-number="1.3.6" id="web-interface-configuration"><span
class="header-section-number">1.3.6</span> Web Interface
Configuration</h3>
<p>The web interface can be configured via
<code>backend/config/web-config.ini</code>:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[ui]</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dt">enabled </span><span class="ot">=</span><span class="st"> </span><span class="kw">true</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dt">max_analysis_depth </span><span class="ot">=</span><span class="st"> </span><span class="dv">3</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dt">timeout_seconds </span><span class="ot">=</span><span class="st"> </span><span class="dv">30</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">[features]</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="dt">backup_configs </span><span class="ot">=</span><span class="st"> </span><span class="kw">true</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="dt">enable_config_validation </span><span class="ot">=</span><span class="st"> </span><span class="kw">true</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="dt">enable_live_preview </span><span class="ot">=</span><span class="st"> </span><span class="kw">true</span></span></code></pre></div>
<h2 data-number="1.4" id="webhook-security-tokenization"><span
class="header-section-number">1.4</span> Webhook Security &amp;
Tokenization</h2>
<h3 data-number="1.4.1" id="overview-1"><span
class="header-section-number">1.4.1</span> Overview</h3>
<p>GenHook implements a comprehensive token-based security system for
webhook endpoints. Each webhook configuration includes a unique,
cryptographically secure token that authenticates incoming webhooks and
enables multiple configurations per service type.</p>
<h3 data-number="1.4.2" id="key-security-features"><span
class="header-section-number">1.4.2</span> Key Security Features</h3>
<h4 data-number="1.4.2.1" id="token-based-authentication"><span
class="header-section-number">1.4.2.1</span> 1. <strong>Token-Based
Authentication</strong></h4>
<ul>
<li><strong>Unique Tokens</strong>: Each webhook configuration gets a
32-character cryptographically secure token</li>
<li><strong>URL Format</strong>:
<code>https://your-domain.com/webhook/{service}/{token}</code></li>
<li><strong>Multiple Configs</strong>: Support multiple webhook
configurations per service type</li>
<li><strong>Token Validation</strong>: Incoming webhooks validated
against stored tokens before processing</li>
</ul>
<h4 data-number="1.4.2.2" id="secure-token-generation"><span
class="header-section-number">1.4.2.2</span> 2. <strong>Secure Token
Generation</strong></h4>
<ul>
<li><strong>Algorithm</strong>: Uses Python’s <code>secrets</code>
module for cryptographic security</li>
<li><strong>Length</strong>: 32 characters (alphanumeric: a-z, A-Z,
0-9)</li>
<li><strong>Uniqueness</strong>: Automatic uniqueness validation across
all existing configurations</li>
<li><strong>Generation Timing</strong>: Tokens generated only when
saving new configurations</li>
</ul>
<h4 data-number="1.4.2.3" id="configuration-format"><span
class="header-section-number">1.4.2.3</span> 3. <strong>Configuration
Format</strong></h4>
<div class="sourceCode" id="cb4"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Format: service_token = fields::template</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dt">github_abc123xyz </span><span class="ot">=</span><span class="st"> action,repository{name}::GitHub $action$ on $repository.name$</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dt">stripe_def456uvw </span><span class="ot">=</span><span class="st"> data{object}{amount}::Payment of $data.object.amount$</span></span></code></pre></div>
<h3 data-number="1.4.3" id="user-experience"><span
class="header-section-number">1.4.3</span> User Experience</h3>
<h4 data-number="1.4.3.1" id="new-configuration-workflow"><span
class="header-section-number">1.4.3.1</span> <strong>New Configuration
Workflow:</strong></h4>
<ol type="1">
<li>User creates webhook configuration through web interface</li>
<li>System generates unique token automatically on save</li>
<li><strong>Success Modal</strong>: Wide modal displays complete webhook
URL for easy copying</li>
<li><strong>One-Click Copy</strong>: Single button copies entire URL
including token</li>
<li><strong>Clear Messaging</strong>: “Save this URL securely - you can
also copy it later from the configuration table”</li>
</ol>
<h4 data-number="1.4.3.2" id="edit-configuration-workflow"><span
class="header-section-number">1.4.3.2</span> <strong>Edit Configuration
Workflow:</strong></h4>
<ol type="1">
<li>User edits existing configuration (template changes only)</li>
<li><strong>Token Preserved</strong>: Existing token remains
unchanged</li>
<li><strong>No Modal</strong>: Simple success notification instead of
popup</li>
<li><strong>URL Accessible</strong>: Webhook URL remains accessible via
configuration table</li>
</ol>
<h4 data-number="1.4.3.3" id="configuration-management-1"><span
class="header-section-number">1.4.3.3</span> <strong>Configuration
Management:</strong></h4>
<ul>
<li><strong>Table View</strong>: Displays service name and truncated
token (<code>abc123...</code>)</li>
<li><strong>Copy URL Button</strong>: Quick access to complete webhook
URL with token</li>
<li><strong>Edit/Delete</strong>: Standard CRUD operations with token
preservation</li>
<li><strong>No False Security</strong>: Honest messaging about token
accessibility</li>
</ul>
<h3 data-number="1.4.4" id="technical-implementation"><span
class="header-section-number">1.4.4</span> Technical Implementation</h3>
<h4 data-number="1.4.4.1" id="backend-architecture"><span
class="header-section-number">1.4.4.1</span> <strong>Backend
Architecture:</strong></h4>
<ul>
<li><strong>Endpoint</strong>: <code>/webhook/{service}/{token}</code>
validates token before processing</li>
<li><strong>Config Storage</strong>:
<code>service_token = fields::template</code> format in INI files</li>
<li><strong>Token Service</strong>: Dedicated service for generation and
uniqueness validation</li>
<li><strong>Message Format</strong>: SL1 messages include
<code>service:token:</code> prefix for source identification</li>
</ul>
<h4 data-number="1.4.4.2" id="security-considerations"><span
class="header-section-number">1.4.4.2</span> <strong>Security
Considerations:</strong></h4>
<ul>
<li><strong>ConfigParser Compatible</strong>: Uses underscore separator
to avoid INI parsing conflicts</li>
<li><strong>No Token Exposure</strong>: Tokens not logged in application
logs</li>
<li><strong>Admin Access Required</strong>: Token visibility requires
administrative web interface access</li>
<li><strong>Practical Security</strong>: Balances security with
user-friendliness and operational needs</li>
</ul>
<h3 data-number="1.4.5" id="api-endpoints"><span
class="header-section-number">1.4.5</span> API Endpoints</h3>
<h4 data-number="1.4.5.1" id="token-management"><span
class="header-section-number">1.4.5.1</span> <strong>Token
Management:</strong></h4>
<ul>
<li><code>GET /api/generate-token</code> - Generate new unique
token</li>
<li><code>POST /api/save-config</code> - Save configuration with
token</li>
<li><code>GET /api/config/{service}/{token}</code> - Retrieve specific
configuration</li>
<li><code>DELETE /api/config/{service}/{token}</code> - Delete tokenized
configuration</li>
</ul>
<h4 data-number="1.4.5.2" id="webhook-reception"><span
class="header-section-number">1.4.5.2</span> <strong>Webhook
Reception:</strong></h4>
<ul>
<li><code>POST /webhook/{service}/{token}</code> - Tokenized webhook
endpoint</li>
<li>Token validation before payload processing</li>
<li>HTTP 404 for invalid tokens</li>
<li>HTTP 200 for valid webhooks with processing</li>
</ul>
<h3 data-number="1.4.6" id="migration-compatibility"><span
class="header-section-number">1.4.6</span> Migration &amp;
Compatibility</h3>
<h4 data-number="1.4.6.1" id="legacy-support"><span
class="header-section-number">1.4.6.1</span> <strong>Legacy
Support:</strong></h4>
<ul>
<li>Existing non-tokenized configurations remain functional</li>
<li>Web interface displays legacy configurations as <code>legacy</code>
tokens</li>
<li>Mixed environments supported (tokenized and legacy configs
coexist)</li>
</ul>
<h4 data-number="1.4.6.2" id="no-backward-compatibility"><span
class="header-section-number">1.4.6.2</span> <strong>No Backward
Compatibility:</strong></h4>
<ul>
<li>New configurations require tokens</li>
<li>Users can delete and recreate legacy configurations with tokens</li>
<li>Web interface encourages migration to tokenized format</li>
</ul>
<h2 data-number="1.5" id="supported-webhook-sources"><span
class="header-section-number">1.5</span> Supported Webhook Sources</h2>
<h3 data-number="1.5.1" id="service-providers"><span
class="header-section-number">1.5.1</span> Service Providers</h3>
<ul>
<li><strong>GitHub</strong>: Push, Pull Request, Issues, Releases</li>
<li><strong>Stripe</strong>: Payments, Subscriptions, Customers</li>
<li><strong>Slack</strong>: Messages, User Actions, App Events</li>
<li><strong>AWS EventBridge/CloudWatch</strong>: EC2, Lambda, S3,
CloudFormation</li>
<li><strong>Cisco Meraki</strong>: Device Alerts, Network Events,
Security Events</li>
<li><strong>Jira</strong>: Issue Updates, Comments, Transitions</li>
<li><strong>Azure Event Grid</strong>: Storage, Resource Management,
Service Bus</li>
<li><strong>Shopify</strong>: Orders, Customers, Products,
Inventory</li>
</ul>
<h3 data-number="1.5.2" id="configuration-format-1"><span
class="header-section-number">1.5.2</span> Configuration Format</h3>
<p>Each webhook configuration uses tokenized INI syntax:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenized format (current)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dt">service_token </span><span class="ot">=</span><span class="st"> field1,field2,nested{subfield}::Message template with $variables$</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Examples:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="dt">github_abc123xyz </span><span class="ot">=</span><span class="st"> action,repository{name}::GitHub $action$ on $repository.name$</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dt">stripe_def456uvw </span><span class="ot">=</span><span class="st"> data{object}{amount}::Stripe payment of $data.object.amount$</span></span></code></pre></div>
<h3 data-number="1.5.3" id="field-extraction-patterns"><span
class="header-section-number">1.5.3</span> Field Extraction
Patterns</h3>
<ul>
<li><strong>Simple Field</strong>: <code>field_name</code></li>
<li><strong>Nested Object</strong>: <code>object{subfield}</code></li>
<li><strong>Deep Nesting</strong>:
<code>level1{level2{level3}}</code></li>
<li><strong>Arrays</strong>:
<code>array_field{item_property}</code></li>
</ul>
<h2 data-number="1.6" id="technical-architecture"><span
class="header-section-number">1.6</span> Technical Architecture</h2>
<h3 data-number="1.6.1" id="threading-models"><span
class="header-section-number">1.6.1</span> Threading Models</h3>
<ol type="1">
<li><strong>Thread Pool Pattern</strong>: HTTP Server → Request Queue →
Thread Pool → SL1 API
<ul>
<li>Use Case: Moderate loads (&lt; 1000 req/sec)</li>
<li>Pros: Simple, predictable resource usage</li>
<li>Cons: Thread creation overhead</li>
</ul></li>
<li><strong>Async Event Loop</strong>: Event Loop → Async Tasks →
Non-blocking I/O
<ul>
<li>Use Case: High concurrency, I/O bound</li>
<li>Pros: Memory efficient, handles 10k+ connections</li>
<li>Cons: Single-threaded CPU processing</li>
</ul></li>
<li><strong>Hybrid Approach</strong>: Async HTTP → Message Queue →
Worker Thread Pool
<ul>
<li>Use Case: Mixed CPU/I/O workloads</li>
<li>Pros: Best of both worlds</li>
<li>Cons: More complex architecture</li>
</ul></li>
</ol>
<h3 data-number="1.6.2" id="configuration-parameters"><span
class="header-section-number">1.6.2</span> Configuration Parameters</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Threading Configuration</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">max_worker_threads </span><span class="ot">=</span><span class="st"> </span><span class="dv">50</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="dt">queue_max_size </span><span class="ot">=</span><span class="st"> </span><span class="dv">10000</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="dt">processing_timeout </span><span class="ot">=</span><span class="st"> 30s</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="dt">retry_max_attempts </span><span class="ot">=</span><span class="st"> </span><span class="dv">3</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="dt">shutdown_grace_period </span><span class="ot">=</span><span class="st"> 60s</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Per-webhook limits</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="dt">shopify_max_concurrent </span><span class="ot">=</span><span class="st"> </span><span class="dv">10</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="dt">slack_max_concurrent </span><span class="ot">=</span><span class="st"> </span><span class="dv">20</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="dt">aws_max_concurrent </span><span class="ot">=</span><span class="st"> </span><span class="dv">100</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="dt">meraki_max_concurrent </span><span class="ot">=</span><span class="st"> </span><span class="dv">25</span></span></code></pre></div>
<h3 data-number="1.6.3" id="sl1-integration"><span
class="header-section-number">1.6.3</span> SL1 Integration</h3>
<ul>
<li><strong>API Endpoint</strong>: <code>POST /api/alert</code></li>
<li><strong>Authentication</strong>: HTTP Basic Auth
(username/password)</li>
<li><strong>Payload Format</strong>: Simplified JSON with
<code>message</code> and <code>aligned_resource</code> fields</li>
<li><strong>Alignment Support</strong>: Organization ID
(<code>/api/organization/{id}</code>) or Device ID
(<code>/api/device/{id}</code>)</li>
<li><strong>Default Alignment</strong>: System default
(<code>/api/organization/0</code>)</li>
<li><strong>Configuration Format</strong>:
<code>service_token|alignment|fields|message</code></li>
<li><strong>Retry Logic</strong>: Exponential backoff for failed API
calls</li>
</ul>
<h3 data-number="1.6.4" id="queue-management"><span
class="header-section-number">1.6.4</span> Queue Management</h3>
<ul>
<li><strong>In-Memory</strong>: Low latency, volatile</li>
<li><strong>Persistent</strong>: Redis/RabbitMQ for reliability</li>
<li><strong>Priority</strong>: Different webhook types by
importance</li>
<li><strong>Dead Letter</strong>: Failed processing queue</li>
</ul>
<h2 data-number="1.7" id="configuration-system"><span
class="header-section-number">1.7</span> Configuration System</h2>
<h3 data-number="1.7.1" id="dynamic-configuration-loading"><span
class="header-section-number">1.7.1</span> Dynamic Configuration
Loading</h3>
<p>GenHook implements <strong>dynamic configuration loading</strong> -
configuration changes take effect immediately without requiring service
restarts. This provides significant operational benefits:</p>
<h4 data-number="1.7.1.1" id="key-benefits"><span
class="header-section-number">1.7.1.1</span> Key Benefits</h4>
<ul>
<li><strong>Zero Downtime Configuration Updates</strong>: Modify webhook
configurations while the service continues processing webhooks</li>
<li><strong>Instant Testing</strong>: Test new webhook configurations
immediately after saving</li>
<li><strong>Simplified Operations</strong>: No need to restart services,
coordinate downtime, or use <code>supervisorctl restart</code></li>
<li><strong>Production-Safe</strong>: Configurations are validated and
loaded atomically to prevent partial updates</li>
</ul>
<h4 data-number="1.7.1.2" id="how-it-works"><span
class="header-section-number">1.7.1.2</span> How It Works</h4>
<ol type="1">
<li><strong>Configuration Read on Demand</strong>: Each webhook request
reads the latest configuration from disk</li>
<li><strong>Atomic File Operations</strong>: Configuration files are
updated atomically to prevent partial reads</li>
<li><strong>Automatic Backup</strong>: Previous configurations are
backed up before changes</li>
<li><strong>Real-Time Validation</strong>: Configurations are validated
before being applied</li>
</ol>
<h4 data-number="1.7.1.3" id="what-this-means-for-operations"><span
class="header-section-number">1.7.1.3</span> What This Means for
Operations</h4>
<ul>
<li><strong>Web Interface</strong>: Save configurations and they take
effect immediately</li>
<li><strong>Manual Config Edits</strong>: Direct file edits to
<code>webhook-config.ini</code> are picked up on next webhook</li>
<li><strong>Production Deployments</strong>: Configuration updates
without service interruption</li>
<li><strong>Development Workflow</strong>: Faster iteration when testing
new webhook configurations</li>
</ul>
<h4 data-number="1.7.1.4"
id="important-what-still-requires-restart"><span
class="header-section-number">1.7.1.4</span> Important: What Still
Requires Restart</h4>
<p>While webhook configurations are dynamic, the following changes still
require a service restart: - <strong>Code Changes</strong>: Any
modifications to Python files (main.py, services, etc.) - <strong>App
Configuration</strong>: Changes to <code>app-config.ini</code> (server
settings, ports, etc.) - <strong>Dependencies</strong>: Installing or
updating Python packages - <strong>Web Configuration</strong>: Changes
to <code>web-config.ini</code> settings - <strong>Logging
Levels</strong>: Modifications to logging configuration</p>
<h3 data-number="1.7.2" id="template-variables"><span
class="header-section-number">1.7.2</span> Template Variables</h3>
<ul>
<li><strong>Simple Substitution</strong>: <code>$field_name$</code></li>
<li><strong>Nested Access</strong>: <code>$object.subfield$</code></li>
<li><strong>Array Access</strong>: <code>$array[0].property$</code></li>
</ul>
<h3 data-number="1.7.3" id="template-examples"><span
class="header-section-number">1.7.3</span> Template Examples</h3>
<div class="sourceCode" id="cb7"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># GitHub Events</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dt">github: action,pull_request{title,user{login}},repository{name}::GitHub $action$ on $repository.name$: &quot;$pull_request.title$&quot; by $pull_request.user.login$</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Stripe Payments</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="dt">stripe: type,data{object{amount,currency,status}}::Stripe $type$: Payment of $data.object.amount$ $data.object.currency$ status: $data.object.status$</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Slack Messages  </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="dt">slack: event{type,user,text}::Slack $event.type$ from user $event.user$: &quot;$event.text$&quot;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># AWS Events</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="dt">aws: detail-type,source,region,detail{instance-id,state}::AWS $detail-type$ from $source$ in $region$: Instance $detail.instance-id$ state: $detail.state$</span></span></code></pre></div>
<h3 data-number="1.7.4" id="environment-configuration"><span
class="header-section-number">1.7.4</span> Environment
Configuration</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Server Settings</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="dt">server_port </span><span class="ot">=</span><span class="st"> </span><span class="dv">8080</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="dt">server_host </span><span class="ot">=</span><span class="st"> 0.0.0.0</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="dt">ssl_enabled </span><span class="ot">=</span><span class="st"> </span><span class="kw">true</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="dt">ssl_cert_path </span><span class="ot">=</span><span class="st"> /etc/ssl/webhook-receiver.crt</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="dt">ssl_key_path </span><span class="ot">=</span><span class="st"> /etc/ssl/webhook-receiver.key</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># SL1 API Settings</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="dt">sl1_api_url </span><span class="ot">=</span><span class="st"> https://sl1.company.com/api/alert</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="dt">sl1_username </span><span class="ot">=</span><span class="st"> your_sl1_username</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="dt">sl1_password </span><span class="ot">=</span><span class="st"> your_sl1_password</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="dt">sl1_timeout </span><span class="ot">=</span><span class="st"> 30s</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="dt">sl1_retry_attempts </span><span class="ot">=</span><span class="st"> </span><span class="dv">3</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Threading Settings</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="dt">max_threads </span><span class="ot">=</span><span class="st"> </span><span class="dv">50</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="dt">queue_size </span><span class="ot">=</span><span class="st"> </span><span class="dv">10000</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="dt">thread_timeout </span><span class="ot">=</span><span class="st"> 30s</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Logging</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="dt">log_level </span><span class="ot">=</span><span class="st"> INFO</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="dt">log_file </span><span class="ot">=</span><span class="st"> /var/log/webhook-receiver.log</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="dt">log_max_size </span><span class="ot">=</span><span class="st"> 100MB</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="dt">log_rotation </span><span class="ot">=</span><span class="st"> daily</span></span></code></pre></div>
<h2 data-number="1.8" id="development-phases"><span
class="header-section-number">1.8</span> Development Phases</h2>
<h3 data-number="1.8.1" id="phase-1-core-system"><span
class="header-section-number">1.8.1</span> Phase 1: Core System</h3>
<ul class="task-list">
<li><label><input type="checkbox" />HTTP server with webhook
endpoints</label></li>
<li><label><input type="checkbox" />Configuration file
parser</label></li>
<li><label><input type="checkbox" />JSON field extraction
engine</label></li>
<li><label><input type="checkbox" />Template processing
system</label></li>
<li><label><input type="checkbox" />Basic SL1 API
integration</label></li>
</ul>
<h3 data-number="1.8.2" id="phase-2-multi-threading"><span
class="header-section-number">1.8.2</span> Phase 2: Multi-Threading</h3>
<ul class="task-list">
<li><label><input type="checkbox" />Thread pool
implementation</label></li>
<li><label><input type="checkbox" />Request queue system</label></li>
<li><label><input type="checkbox" />Error handling and
retries</label></li>
<li><label><input type="checkbox" />Graceful shutdown
handling</label></li>
<li><label><input type="checkbox" />Resource cleanup</label></li>
</ul>
<h3 data-number="1.8.3" id="phase-3-production-features"><span
class="header-section-number">1.8.3</span> Phase 3: Production
Features</h3>
<ul class="task-list">
<li><label><input type="checkbox" />Webhook signature
verification</label></li>
<li><label><input type="checkbox" />Rate limiting and
throttling</label></li>
<li><label><input type="checkbox" />Comprehensive logging</label></li>
<li><label><input type="checkbox" />Metrics collection</label></li>
<li><label><input type="checkbox" />Health check endpoints</label></li>
</ul>
<h3 data-number="1.8.4" id="phase-4-operations"><span
class="header-section-number">1.8.4</span> Phase 4: Operations</h3>
<ul class="task-list">
<li><label><input type="checkbox" />Configuration
validation</label></li>
<li><label><input type="checkbox" />Performance monitoring</label></li>
<li><label><input type="checkbox" />Alerting on failures</label></li>
<li><label><input type="checkbox" />Documentation and
runbooks</label></li>
<li><label><input type="checkbox" />Deployment automation</label></li>
</ul>
<h3 data-number="1.8.5" id="current-status"><span
class="header-section-number">1.8.5</span> Current Status</h3>
<p>🚀 <strong>Phase 1</strong>: Core System (COMPLETED) - ✅ FastAPI
HTTP server with webhook endpoints - ✅ Configuration file parser and
management - ✅ JSON field extraction engine with array support - ✅
Template processing system - ✅ SL1 API integration with retry logic -
✅ HTTPS/SSL support for secure webhooks - ✅ Empty payload handling
with 200 responses</p>
<p>🎉 <strong>Phase 5</strong>: Web Configuration Interface (COMPLETED)
- ✅ <strong>Professional 2-Column Layout</strong>: 65/35 split with
responsive design and sticky sidebar - ✅ <strong>Enhanced 3-Step
Wizard</strong>: Hidden by default with “New Config” button in table
header - ✅ <strong>Auto-Loading Payload Sidebar</strong>: Recent
payload loading with dropdown auto-selection - ✅ <strong>Improved Edit
Mode</strong>: Shows existing field selections and templates, starts at
Step 2 - ✅ <strong>Visual Field Management</strong>: Checkbox-based
field selection with real-time updates - ✅ <strong>Real-time
Testing</strong>: Test configurations with sidebar payloads before
saving - ✅ <strong>Dynamic Configuration Loading</strong>: No service
restarts required for config changes - ✅ <strong>Professional
UI/UX</strong>: Bootstrap 5 responsive interface with modern design
patterns - ✅ <strong>Production-Ready</strong>: Clean codebase, error
handling, and automatic backups</p>
<p>🎯 <strong>Phase 6</strong>: SL1 Alignment &amp; Enhanced Security
(COMPLETED) - ✅ <strong>SL1 Alignment Configuration</strong>:
Organization/Device ID selection via modal interface - ✅
<strong>Tokenized Webhook URLs</strong>: Unique tokens per configuration
for enhanced security - ✅ <strong>New Configuration Format</strong>:
<code>service_token|alignment|fields|message</code> with backward
compatibility - ✅ <strong>Enhanced SL1 Integration</strong>: Dynamic
<code>aligned_resource</code> parameter in SL1 API calls - ✅
<strong>Copy Token Feature</strong>: Dedicated button to copy tokens for
external use - ✅ <strong>Case Sensitivity Fixes</strong>: Proper
lowercase URL generation matching backend processing - ✅
<strong>Automatic Cleanup</strong>: Remove webhook log directories when
deleting last config for service type - ✅ <strong>Configuration
Management</strong>: SL1 Alignment column in configuration table</p>
<ul>
<li>✅ <strong>Secure URL Format</strong>:
<code>https://domain.com/webhook/{service}/{token}</code> endpoint
structure</li>
<li>✅ <strong>Smart Modal UX</strong>: Wide confirmation modal for new
configs, no popup for edits</li>
<li>✅ <strong>Token Preservation</strong>: Edit mode preserves existing
tokens, only updates templates</li>
<li>✅ <strong>Configuration Format</strong>:
<code>service_token = fields::template</code> INI-compatible format</li>
<li>✅ <strong>Copy-Friendly Interface</strong>: One-click webhook URL
copying from table and modal</li>
<li>✅ <strong>Honest Security</strong>: Clear messaging about token
accessibility and recovery options</li>
<li>✅ <strong>Production-Tested</strong>: Full tokenization system
tested and operational</li>
</ul>
<p>🔧 <strong>Next Phases</strong>: Multi-Threading &amp; Production
Features (PLANNED) - 🟡 Thread pool implementation for high-volume
processing - 🟡 Advanced monitoring and metrics collection - 🟡
Production deployment automation - 🟡 Load balancing and scaling
strategies</p>
<h2 data-number="1.9" id="production-deployment"><span
class="header-section-number">1.9</span> Production Deployment</h2>
<h3 data-number="1.9.1"
id="port-configuration-configuration-driven"><span
class="header-section-number">1.9.1</span> Port Configuration
(Configuration-Driven)</h3>
<p><strong>All port configuration is handled via config files - no code
changes required!</strong></p>
<h4 data-number="1.9.1.1" id="development-mode-default"><span
class="header-section-number">1.9.1.1</span> Development Mode
(default)</h4>
<ul>
<li>GenHook reads <code>backend/config/app-config.ini</code></li>
<li>Default port: 8000 (HTTP)</li>
<li>Access: http://localhost:8000</li>
</ul>
<h4 data-number="1.9.1.2" id="production-mode-options"><span
class="header-section-number">1.9.1.2</span> Production Mode
Options</h4>
<p><strong>Option 1: Direct HTTPS (Port 443)</strong></p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create backend/config/app-config.prod.ini</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">[server]</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="dt">host </span><span class="ot">=</span><span class="st"> 0.0.0.0</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="dt">port </span><span class="ot">=</span><span class="st"> </span><span class="dv">443</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="dt">reload </span><span class="ot">=</span><span class="st"> </span><span class="kw">false</span></span></code></pre></div>
<p><strong>Option 2: Reverse Proxy (Recommended)</strong></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep default port 8000 in app-config.ini</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use nginx/Apache to proxy port 443 → 8000</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">[server]</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="dt">host </span><span class="ot">=</span><span class="st"> 0.0.0.0</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="dt">port </span><span class="ot">=</span><span class="st"> </span><span class="dv">8000</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="dt">reload </span><span class="ot">=</span><span class="st"> </span><span class="kw">false</span></span></code></pre></div>
<p><strong>Option 3: Custom Port</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Any port you need</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">[server]</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="dt">host </span><span class="ot">=</span><span class="st"> 0.0.0.0</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="dt">port </span><span class="ot">=</span><span class="st"> 9000  # or any port</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="dt">reload </span><span class="ot">=</span><span class="st"> </span><span class="kw">false</span></span></code></pre></div>
<h4 data-number="1.9.1.3" id="port-configuration-logic"><span
class="header-section-number">1.9.1.3</span> Port Configuration
Logic</h4>
<ol type="1">
<li>If <code>app-config.prod.ini</code> exists → uses production
config</li>
<li>Otherwise → uses <code>app-config.ini</code> (development)</li>
<li>GenHook automatically detects and uses the appropriate config</li>
<li><strong>No code modification ever required</strong></li>
</ol>
<h4 data-number="1.9.1.4" id="endpoint-access"><span
class="header-section-number">1.9.1.4</span> Endpoint Access</h4>
<ul>
<li><strong>API Endpoints</strong>: <code>/webhook/{service}</code> for
webhook reception</li>
<li><strong>Web Interface</strong>: <code>/config</code> for
configuration management</li>
<li><strong>Health Check</strong>: <code>/health</code> for
monitoring</li>
<li><strong>API Documentation</strong>: <code>/docs</code> for FastAPI
swagger docs</li>
</ul>
<h3 data-number="1.9.2" id="aws-deployment-considerations"><span
class="header-section-number">1.9.2</span> AWS Deployment
Considerations</h3>
<ul>
<li><strong>Application Load Balancer</strong>: Route traffic to GenHook
instances</li>
<li><strong>Security Groups</strong>: Allow inbound 8000 from ALB,
outbound 443 to SL1</li>
<li><strong>Auto Scaling</strong>: Scale based on webhook volume
metrics</li>
<li><strong>CloudWatch</strong>: Monitor application logs and
metrics</li>
<li><strong>Secrets Manager</strong>: Store SL1 credentials
securely</li>
</ul>
<h3 data-number="1.9.3" id="reverse-proxy-configuration-nginx"><span
class="header-section-number">1.9.3</span> Reverse Proxy Configuration
(nginx)</h3>
<pre class="nginx"><code>server {
    listen 443 ssl;
    server_name your-genhook-domain.com;
    
    ssl_certificate /path/to/ssl/cert.crt;
    ssl_certificate_key /path/to/ssl/private.key;
    
    location / {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}</code></pre>
<h3 data-number="1.9.4" id="environment-variables-for-production"><span
class="header-section-number">1.9.4</span> Environment Variables for
Production</h3>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set in production environment</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="va">GENHOOK_ENV</span><span class="op">=</span>production</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="va">SL1_API_URL</span><span class="op">=</span>https://your-sl1-instance.com/api/alert</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="va">SL1_USERNAME</span><span class="op">=</span>your_sl1_user</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="va">SL1_PASSWORD</span><span class="op">=</span>your_sl1_password</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="va">WEB_INTERFACE_ENABLED</span><span class="op">=</span>true</span></code></pre></div>
<h3 data-number="1.9.5" id="configuration-files-for-production"><span
class="header-section-number">1.9.5</span> Configuration Files for
Production</h3>
<ul>
<li>Ensure <code>backend/config/webhook-config.ini</code> contains your
webhook configurations</li>
<li>Configuration changes take effect immediately through dynamic
loading</li>
<li>Backup configurations are stored in
<code>backend/config/backups/</code></li>
</ul>
<h3 data-number="1.9.6" id="security-checklist"><span
class="header-section-number">1.9.6</span> Security Checklist</h3>
<ul>
<li>✅ HTTPS enabled for all webhook endpoints</li>
<li>✅ Web interface accessible only from authorized networks</li>
<li>✅ SL1 credentials stored securely (not in code)</li>
<li>✅ Webhook signature verification enabled where possible</li>
<li>✅ Rate limiting configured for webhook endpoints</li>
<li>✅ Regular backup of configuration files</li>
</ul>
<h2 data-number="1.10" id="security-performance"><span
class="header-section-number">1.10</span> Security &amp;
Performance</h2>
<h3 data-number="1.10.1" id="security-considerations-1"><span
class="header-section-number">1.10.1</span> Security Considerations</h3>
<ul>
<li><strong>Webhook Verification</strong>: Validate signatures from
webhook providers</li>
<li><strong>Rate Limiting</strong>: Prevent spam/DoS attacks</li>
<li><strong>Input Validation</strong>: Sanitize all webhook
payloads</li>
<li><strong>Authentication</strong>: Secure SL1 API credentials
(username/password for HTTP Basic Auth)</li>
<li><strong>HTTPS Only</strong>: Encrypt all webhook traffic</li>
</ul>
<h3 data-number="1.10.2" id="error-handling-strategy"><span
class="header-section-number">1.10.2</span> Error Handling Strategy</h3>
<ul>
<li><strong>Graceful Degradation</strong>: Continue processing other
webhooks</li>
<li><strong>Retry Logic</strong>: Exponential backoff for failed API
calls</li>
<li><strong>Dead Letter Queue</strong>: Store unprocessable
webhooks</li>
<li><strong>Circuit Breaker</strong>: Protect against downstream
failures</li>
<li><strong>Timeout Handling</strong>: Prevent hung threads</li>
</ul>
<h3 data-number="1.10.3" id="performance-optimization"><span
class="header-section-number">1.10.3</span> Performance
Optimization</h3>
<ul>
<li><strong>Connection Pooling</strong>: Reuse HTTP connections to
SL1</li>
<li><strong>Batch Processing</strong>: Group multiple events when
possible</li>
<li><strong>Caching</strong>: Cache configuration and templates</li>
<li><strong>Metrics</strong>: Monitor processing times and
throughput</li>
<li><strong>Profiling</strong>: Identify bottlenecks in production</li>
</ul>
<h3 data-number="1.10.4" id="monitoring-points"><span
class="header-section-number">1.10.4</span> Monitoring Points</h3>
<ul>
<li><strong>Webhook Ingestion Rate</strong>: Webhooks received per
second</li>
<li><strong>Processing Latency</strong>: Time from receipt to SL1 API
call</li>
<li><strong>Error Rates</strong>: Failed processing percentage</li>
<li><strong>Queue Depth</strong>: Backlog of pending webhooks</li>
<li><strong>Thread Utilization</strong>: Active vs idle threads</li>
<li><strong>SL1 API Response Times</strong>: Downstream service
health</li>
</ul>
<h3 data-number="1.10.5" id="key-metrics-to-track"><span
class="header-section-number">1.10.5</span> Key Metrics to Track</h3>
<ul>
<li><strong>Webhook Reception Rate</strong>: webhooks/second by
type</li>
<li><strong>Processing Latency</strong>: 95th percentile processing
time</li>
<li><strong>Error Rate</strong>: Failed webhooks percentage</li>
<li><strong>SL1 API Success Rate</strong>: Successful API calls
percentage</li>
<li><strong>Queue Depth</strong>: Current backlog size</li>
<li><strong>Thread Pool Utilization</strong>: Active threads / total
threads</li>
</ul>
<h2 data-number="1.11" id="web-configuration-interface-plan"><span
class="header-section-number">1.11</span> Web Configuration Interface
Plan</h2>
<h3 data-number="1.11.1" id="overview-2"><span
class="header-section-number">1.11.1</span> Overview</h3>
<p>A comprehensive web-based interface for configuring GenHook webhooks
without manual file editing.</p>
<h3 data-number="1.11.2" id="key-features-2"><span
class="header-section-number">1.11.2</span> Key Features</h3>
<ul>
<li><strong>Visual Field Selection</strong>: Interactive tree view of
JSON payload fields with hierarchical display</li>
<li><strong>SL1 Alignment Configuration</strong>: Modal interface for
Organization/Device ID selection</li>
<li><strong>Live Preview</strong>: Real-time message generation preview
with actual payload testing</li>
<li><strong>Template Builder</strong>: Guided template creation with
variable suggestions</li>
<li><strong>Tokenized Security</strong>: Unique tokens per webhook
configuration for enhanced security</li>
<li><strong>Configuration Management</strong>: Safe config updates with
automatic backup and rollback</li>
<li><strong>Dynamic Loading</strong>: Configuration changes take effect
immediately without service restarts</li>
<li><strong>Copy Functions</strong>: Dedicated buttons for copying
webhook URLs and tokens</li>
<li><strong>Automatic Cleanup</strong>: Remove webhook log directories
when deleting configurations</li>
</ul>
<h3 data-number="1.11.3" id="architecture-1"><span
class="header-section-number">1.11.3</span> Architecture</h3>
<ul>
<li><strong>Framework</strong>: FastAPI + Jinja2 templates + Vanilla
JavaScript</li>
<li><strong>Configuration-Driven</strong>: All settings externalized to
<code>web-config.ini</code></li>
<li><strong>Security</strong>: IP-based access control and input
validation</li>
<li><strong>File Operations</strong>: Atomic config updates with backup
mechanisms</li>
</ul>
<h3 data-number="1.11.4" id="implementation-structure"><span
class="header-section-number">1.11.4</span> Implementation
Structure</h3>
<pre><code>backend/
├── app/
│   ├── web/                    # Web interface module
│   │   ├── routes.py          # Web UI routes
│   │   ├── services.py        # Config management logic
│   │   └── models.py          # Pydantic models
│   ├── templates/             # Jinja2 HTML templates
│   ├── static/               # CSS, JS, assets
├── config/
│   └── web-config.ini        # Web interface configuration</code></pre>
<h3 data-number="1.11.5" id="user-workflow"><span
class="header-section-number">1.11.5</span> User Workflow</h3>
<ol type="1">
<li>Access web interface at <code>/config</code></li>
<li>Paste JSON payload from webhook source</li>
<li>Select fields using interactive tree interface</li>
<li>Build message template with live preview</li>
<li>Save configuration (takes effect immediately)</li>
<li>Test with actual webhook</li>
</ol>
<h3 data-number="1.11.6" id="documentation"><span
class="header-section-number">1.11.6</span> Documentation</h3>
<ul>
<li><strong>Full Implementation Plan</strong>:
<code>WEB_INTERFACE_PLAN.md</code></li>
<li><strong>Branch Strategy</strong>:
<code>feature/web-config-interface</code></li>
<li><strong>Status</strong>: Ready for implementation</li>
</ul>
<h3 data-number="1.11.7" id="benefits"><span
class="header-section-number">1.11.7</span> Benefits</h3>
<ul>
<li><strong>User-Friendly</strong>: No technical knowledge required</li>
<li><strong>Error Reduction</strong>: Visual field selection prevents
mistakes</li>
<li><strong>Fast Onboarding</strong>: Quick setup of new webhook
sources</li>
<li><strong>Safe Deployment</strong>: Backup and rollback
capabilities</li>
</ul>
<h4 data-number="1.11.7.1"
id="recent-enhancement-super-easy-recent-payload-loading"><span
class="header-section-number">1.11.7.1</span> Recent Enhancement: Super
Easy Recent Payload Loading 🚀</h4>
<p>The web interface now includes enhanced recent payload loading with:
- <strong>Smart Dropdowns</strong>: Auto-populated webhook types and
recent payloads - <strong>Edit Mode Integration</strong>: When editing
configs, webhook type auto-selects and loads recent payloads -
<strong>Visual Cards</strong>: Green for recent payload loading, blue
for manual input - <strong>1-Click Loading</strong>: Load real webhook
data directly into test fields - <strong>Both Modes</strong>: Available
in both new configuration creation and edit modes</p>
<h2 data-number="1.12" id="webhook-payload-logging"><span
class="header-section-number">1.12</span> Webhook Payload Logging</h2>
<h3 data-number="1.12.1" id="overview-3"><span
class="header-section-number">1.12.1</span> Overview</h3>
<p>GenHook automatically logs all received webhook payloads for
debugging and template development. Each webhook type gets its own
directory with rotating log files to prevent disk space issues.</p>
<h3 data-number="1.12.2" id="features"><span
class="header-section-number">1.12.2</span> Features</h3>
<ul>
<li><strong>Automatic Directory Creation</strong>: New webhook types
automatically get log directories</li>
<li><strong>Rotating Logs</strong>: Prevents disk space issues (10MB per
file, 5 backups)</li>
<li><strong>JSON Format</strong>: Easy to parse and analyze</li>
<li><strong>Web Interface Integration</strong>: Load recent payloads
directly into config interface</li>
<li><strong>Permission Handling</strong>: Graceful handling of
permission issues in production</li>
</ul>
<h3 data-number="1.12.3" id="configuration"><span
class="header-section-number">1.12.3</span> Configuration</h3>
<p>Edit <code>backend/config/app-config.ini</code>:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[webhook_logging]</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="dt">enabled </span><span class="ot">=</span><span class="st"> </span><span class="kw">true</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="dt">base_directory </span><span class="ot">=</span><span class="st"> logs/webhooks</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="dt">max_bytes </span><span class="ot">=</span><span class="st"> 10485760  # 10MB per file</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="dt">backup_count </span><span class="ot">=</span><span class="st"> 5  # Keep 5 backup files</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="dt">log_file_name </span><span class="ot">=</span><span class="st"> payload.log</span></span></code></pre></div>
<h3 data-number="1.12.4" id="directory-structure"><span
class="header-section-number">1.12.4</span> Directory Structure</h3>
<pre><code>backend/logs/
├── webhooks/
│   ├── github/
│   │   ├── payload.log      # Current log
│   │   ├── payload.log.1    # First backup
│   │   └── payload.log.2    # Second backup
│   ├── stripe/
│   │   └── payload.log
│   └── [auto-created for each webhook type]/</code></pre>
<h3 data-number="1.12.5" id="web-interface-features"><span
class="header-section-number">1.12.5</span> Web Interface Features</h3>
<ul>
<li><strong>Load Recent Payload</strong> section in config interface
(both create and edit modes)</li>
<li><strong>Smart Dropdowns</strong> showing webhook types and last 10
payloads with timestamps<br />
</li>
<li><strong>Auto-populate functionality</strong> in test payload
fields</li>
<li><strong>Edit Mode Integration</strong> with auto-populated webhook
type selection</li>
<li><strong>Visual Cards</strong> - Green for recent payloads, blue for
manual input</li>
<li><strong>API endpoints</strong>:
<ul>
<li><code>GET /api/webhook-logs/{webhook_type}/recent?limit=10</code> -
Get recent payloads</li>
<li><code>GET /api/webhook-logs/types</code> - Get available webhook
types</li>
</ul></li>
</ul>
<h3 data-number="1.12.6" id="production-deployment-aws"><span
class="header-section-number">1.12.6</span> Production Deployment
(AWS)</h3>
<h4 data-number="1.12.6.1" id="initial-setup-one-time"><span
class="header-section-number">1.12.6.1</span> Initial Setup (One
Time)</h4>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Switch to genhook user</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> su <span class="at">-</span> genhook</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /opt/genhook</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create logs directory</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> /opt/genhook/backend/logs/webhooks</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 755 /opt/genhook/backend/logs</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> 755 /opt/genhook/backend/logs/webhooks</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Mark webhook-config.ini to ignore future changes</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> update-index <span class="at">--skip-worktree</span> backend/config/webhook-config.ini</span></code></pre></div>
<h4 data-number="1.12.6.2" id="deploying-updates"><span
class="header-section-number">1.12.6.2</span> Deploying Updates</h4>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># As genhook user</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> su <span class="at">-</span> genhook</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /opt/genhook</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Stash local changes</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> stash save <span class="st">&quot;Production config - </span><span class="va">$(</span><span class="fu">date</span> +%Y%m%d_%H%M%S<span class="va">)</span><span class="st">&quot;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull updates</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull origin main  <span class="co"># or feature branch</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Restore local changes</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> stash pop</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Exit and restart</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="bu">exit</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> supervisorctl restart genhook</span></code></pre></div>
<h3 data-number="1.12.7" id="production-notes"><span
class="header-section-number">1.12.7</span> Production Notes</h3>
<ul>
<li>Service runs as <code>genhook</code> user via supervisor</li>
<li>Logs directory:
<code>/opt/genhook/backend/logs/webhooks/</code></li>
<li>Permissions: 755 for directories, 644 for log files</li>
<li>Owner: genhook:genhook</li>
<li>Automatic rotation prevents disk space issues</li>
</ul>
<h3 data-number="1.12.8" id="troubleshooting"><span
class="header-section-number">1.12.8</span> Troubleshooting</h3>
<h4 data-number="1.12.8.1" id="permission-issues"><span
class="header-section-number">1.12.8.1</span> Permission Issues</h4>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check service user</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> aux <span class="kw">|</span> <span class="fu">grep</span> genhook</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix log directory permissions</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chown <span class="at">-R</span> genhook:genhook /opt/genhook/backend/logs</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod <span class="at">-R</span> 755 /opt/genhook/backend/logs</span></code></pre></div>
<h4 data-number="1.12.8.2" id="viewing-logs"><span
class="header-section-number">1.12.8.2</span> Viewing Logs</h4>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View recent payloads for a webhook type</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> <span class="at">-u</span> genhook tail <span class="at">-f</span> /opt/genhook/backend/logs/webhooks/github/payload.log</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse JSON logs</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> <span class="at">-u</span> genhook cat /opt/genhook/backend/logs/webhooks/github/payload.log <span class="kw">|</span> <span class="ex">jq</span> <span class="st">&#39;.&#39;</span></span></code></pre></div>
<h4 data-number="1.12.8.3" id="log-rotation"><span
class="header-section-number">1.12.8.3</span> Log Rotation</h4>
<ul>
<li>Automatic rotation at 10MB</li>
<li>Keeps 5 backup files (payload.log.1 through payload.log.5)</li>
<li>Oldest logs are deleted automatically</li>
</ul>
<h3 data-number="1.12.9" id="log-format"><span
class="header-section-number">1.12.9</span> Log Format</h3>
<p>Each log entry (one per line for easy parsing):</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2025-08-10T12:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;webhook_type&quot;</span><span class="fu">:</span> <span class="st">&quot;github&quot;</span><span class="fu">,</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;payload&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="er">...actual</span> <span class="er">webhook</span> <span class="er">payload...</span><span class="fu">},</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;source_ip&quot;</span><span class="fu">:</span> <span class="st">&quot;192.168.1.1&quot;</span><span class="fu">,</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;user_agent&quot;</span><span class="fu">:</span> <span class="st">&quot;GitHub-Hookshot/12345&quot;</span><span class="fu">,</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;processing_status&quot;</span><span class="fu">:</span> <span class="st">&quot;success&quot;</span><span class="fu">,</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;generated_message&quot;</span><span class="fu">:</span> <span class="st">&quot;GitHub push on repo...&quot;</span><span class="fu">,</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;content_length&quot;</span><span class="fu">:</span> <span class="st">&quot;1234&quot;</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 data-number="1.12.10" id="api-endpoints-1"><span
class="header-section-number">1.12.10</span> API Endpoints</h3>
<ul>
<li><code>GET /api/webhook-logs/{webhook_type}/recent?limit=10</code> -
Get recent payloads</li>
<li><code>GET /api/webhook-logs/types</code> - Get list of webhook types
with logs</li>
</ul>
<h3 data-number="1.12.11" id="benefits-1"><span
class="header-section-number">1.12.11</span> Benefits</h3>
<ul>
<li><strong>Debugging</strong>: See actual payloads when webhooks fail
or produce unexpected output</li>
<li><strong>Template Development</strong>: Use real payloads to
create/refine webhook configurations with 1-click loading</li>
<li><strong>Audit Trail</strong>: Track what webhooks were received and
when with full metadata</li>
<li><strong>Super Easy Configuration</strong>: Load recent payloads in
both create and edit modes</li>
<li><strong>Smart Edit Mode</strong>: Auto-populated webhook type with
instant access to recent payloads<br />
</li>
<li><strong>Visual Interface</strong>: Color-coded cards (green for
logs, blue for manual input)</li>
<li><strong>Disk Management</strong>: Automatic rotation prevents
runaway disk usage</li>
</ul>
<h3 data-number="1.12.12" id="enhanced-user-workflow"><span
class="header-section-number">1.12.12</span> Enhanced User Workflow</h3>
<ol type="1">
<li><strong>Creating New Config</strong>: Select webhook type → Load
recent payload → Build template</li>
<li><strong>Editing Existing Config</strong>: Click edit → Webhook type
auto-selected → Load recent payloads → Test changes</li>
<li><strong>Real-time Testing</strong>: Load actual webhook data to test
template changes instantly</li>
<li><strong>No Manual Copy/Paste</strong>: Direct integration between
logs and configuration interface</li>
</ol>
</body>
</html>
